 orig               min(l, r, d, u)    result
 3  0  3  7  3     -1 -1 -1 -1 -1      x  x  x  x  x
 2  5  5  1  2     -1  0  2  2 -1      x  x  x  o  x
 6  5  3  3  2     -1  3  3  2 -1      x  x  o  x  x
 3  3  5  4  9     -1  3  3  5 -1      x  o  x  o  x
 3  5  3  9  0     -1 -1 -1 -1 -1      x  x  x  x  x

 leftwards           downwards
-1  3  3  3  7     -1 -1 -1 -1 -1
-1  2  5  5  5      3  0  3  7  3
-1  6  6  6  6      3  5  5  7  3
-1  3  3  5  5      6  5  5  7  3
-1  3  5  5  9      6  5  5  7  9

 rightwards          upwards
7  7  7  3 -1       6  5  5  9  9
5  5  2  2 -1       6  5  5  9  9
5  3  3  2 -1       3  5  5  9  9
9  9  9  9 -1       3  5  3  9  0
9  9  9  0 -1      -1 -1 -1 -1 -1

 min(l, r)          min(d, u)          min(l, r, d, u)
-1  3  3  3 -1     -1 -1 -1 -1 -1     -1 -1 -1 -1 -1
-1  2  2  2 -1      3  0  3  7  3     -1  0  2  2 -1
-1  3  3  2 -1      3  5  5  7  3     -1  3  3  2 -1
-1  3  3  5 -1      3  5  3  7  0     -1  3  3  5 -1
-1  3  5  0 -1     -1 -1 -1 -1 -1     -1 -1 -1 -1 -1
